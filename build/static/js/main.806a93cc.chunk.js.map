{"version":3,"sources":["components/People.js","components/Filter.js","components/Form.js","service/PhoneBook.js","components/Notification.js","App.js","index.js"],"names":["People","props","name","phone","onClick","deleteBook","FilterItem","value","inputData","onChange","dataChange","FormSubmission","submitForm","nameInput","nameChange","numberInput","numberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","successMessage","className","App","useState","persons","setPersons","newName","setNewName","newPhone","setNewPhone","makeFilter","setFilter","errorMessage","setErrorMessage","setSuccessMessage","useEffect","console","log","PhoneBook","initialBooks","filterData","filter","obj","toLowerCase","indexOf","Filter","event","target","Form","preventDefault","exists","find","p","JSON","stringify","window","alert","returnedBook","map","noteUpdate","catch","error","setTimeout","nameObject","length","concat","n","deletePhoneBook","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.806a93cc.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst People = (props) =>{\r\nreturn (\r\n    <div>\r\n   {props.name.name} {props.name.phone} <button onClick={props.deleteBook}>Delete</button>\r\n   </div>\r\n)\r\n    \r\n  \r\n}\r\n\r\n\r\nexport default People","import React from 'react'\r\n\r\nconst FilterItem = (props) =>{\r\nreturn(\r\n    <div>\r\n     filter shown with <input value={props.inputData} onChange= {props.dataChange}></input>\r\n    </div>\r\n)\r\n}\r\n\r\nexport default FilterItem","import React from 'react'\r\n\r\nconst FormSubmission =({submitForm, nameInput, nameChange, numberInput, numberChange})=>{\r\n    return(\r\n        <div>\r\n        <form onSubmit= {submitForm}>\r\n      <div>\r\n        name: <input value = {nameInput} onChange= {nameChange }/>  \r\n      </div>\r\n      <div>\r\n        number: <input  value = {numberInput} onChange={numberChange}/>\r\n      </div>\r\n      <div>\r\n        <button type ='submit'>add</button>\r\n      </div>\r\n    </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FormSubmission","import React from 'react'\r\nimport axios from 'axios'\r\n\r\nconst baseUrl = '/api/phonebook'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n\r\n  export default { getAll, create, update, remove }","const Notification = ({ message, successMessage }) => {\r\n   \r\n  if(message){\r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  } if(successMessage)\r\n  {\r\n    return (\r\n      <div className=\"success\">\r\n        {successMessage}\r\n      </div>\r\n    )\r\n  }\r\n  if (message === null) {\r\n      return null\r\n    }\r\n\r\n    if (successMessage === null) {\r\n      return null\r\n    }\r\n\r\n\r\n\r\n  \r\n   \r\n    \r\n  }\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport People from './components/People'\nimport FilterItem from './components/Filter'\nimport FormSubmission from './components/Form' \nimport PhoneBook from './service/PhoneBook'\nimport Notification from './components/Notification'\n\nconst App=()=>{\n  const [persons, setPersons] = useState([\n  ])\n\nconst [newName, setNewName] = useState('')\nconst [newPhone, setNewPhone] = useState('')\nconst [makeFilter, setFilter] = useState('')\nconst [errorMessage, setErrorMessage] = useState(null)\nconst [successMessage, setSuccessMessage] = useState(null)\n\nuseEffect(()=>{\n  console.log('effect')\n  PhoneBook.getAll().then(initialBooks=>{\n  console.log('promise fullfilled')\n  setPersons(initialBooks)\n  })\n}, [])\n\nconst addName = (event) => {\n  event.preventDefault()\n  const exists = persons.find(p => p.name === newName);\n  if (exists){\n    console.log(JSON.stringify('id ' + exists.id));\n    console.log(JSON.stringify('name ' + exists.name));\n    console.log(JSON.stringify('phone ' + exists.phone));\n    window.alert(`${newName} is already added to phonebook, replace the old number with new one?`)\n    const newObject = {\n      name:  exists.name,\n      phone: newPhone,\n      id: exists.id\n   }\n   PhoneBook.update(exists.id, newObject).then(returnedBook=>{\n    setPersons(persons.map(noteUpdate=> noteUpdate.id !== exists.id ? noteUpdate :returnedBook ))\n   }).catch(error => {\n    setErrorMessage(\n      `Information of ' ${exists.name} ' was already removed from server`\n    )\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n   \n  })\n\n   setNewName('')\n   setNewPhone('')\n\n  }else{\n    const nameObject = {\n      name: newName,\n      phone: newPhone,\n      id: persons.length + 1\n   }\n   \n   PhoneBook.create(nameObject).then(returnedBook => {\n    setPersons(persons.concat(returnedBook))\n    \n    setNewName('')\n    setNewPhone('')\n\n    setSuccessMessage(\n      `Added ${returnedBook.name} `\n    )\n    setTimeout(() => {\n      setSuccessMessage(null)\n    }, 5000)\n   })\n  \n  }\n}\n\n  const deletePhoneBook = (id, name) =>{\n  window.alert(`Delete ${name}`);\n  PhoneBook.remove(id)\n  setPersons(persons.filter(n => n.id !== id))\n  }\n\n  const handleNameChange = (event) =>{\n  console.log(event.target.value)\n  setNewName(event.target.value)\n  }\n\n  const handlePhoneChange = (event) =>{\n  console.log(event.target.value)\n  setNewPhone(event.target.value)\n  }\n\n  const handleFilterChange = (event) =>{\n  console.log(event.target.value)\n  setFilter(event.target.value)\n      \n  }\n  const filterData = persons.filter(obj =>\n  obj.name.toLowerCase().indexOf(makeFilter.toLowerCase()) >= 0)\n\nreturn(\n  <div>\n    <h2>Phonebook</h2>\n    <Notification message={errorMessage}  successMessage = {successMessage}/>\n    <div>\n    <FilterItem  inputData = {makeFilter} dataChange={handleFilterChange}/>\n    </div>\n    <h2>add a new </h2>\n    <FormSubmission submitForm ={addName} nameInput={newName} nameChange={handleNameChange} numberInput={newPhone} numberChange={handlePhoneChange}/>\n    <h2>Numbers</h2>\n    <div>\n    {filterData.map(name=><People key={name.id} name={name} deleteBook={()=> deletePhoneBook(name.id, name.name)}/>)}    \n    </div>\n  </div>\n)\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}